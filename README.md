# 🎭 SillyTavern 角色卡编辑器

[![License: Co-op NCL](https://img.shields.io/badge/License-Cooperative%20NCL-blue.svg)](LICENSE)

一个功能完整的可视化角色卡创建和编辑工具，专为 SillyTavern 设计。

---

## ⚡ 超简单使用

> **下载 → 解压 → 双击 `home.html` → 开始使用！**
> 
> ✅ 无需安装任何软件  
> ✅ 完全离线可用  
> ✅ 支持电脑和手机  
> 
> 📖 [3 分钟快速开始指南](QUICK_START.md)

---

## ✨ 功能特点

- 📝 直观的表单界面，轻松创建角色卡
- 👁️ 实时预览角色信息
- 🖼️ 支持上传自定义头像
- 📚 完整的世界书（Lorebook）编辑器
- 🔧 正则脚本管理器
- ⚙️ 高级设置（系统提示词、备用开场白、标签等）
- � 完全兼容单 SillyTavern V1/V2/V3 规范
- � 导入现有览的角色卡进行编辑
- 🎨 深色主题，响应式设计
- �  支持手机和平板使用

---

## 🚀 快速开始

### 💻 电脑用户（Windows / Mac / Linux）

1. **下载项目**
   - 点击绿色的 "Code" 按钮
   - 选择 "Download ZIP"
   - 解压到任意位置

2. **开始使用**
   - 双击打开 `home.html`
   - 选择需要的工具
   - 完全离线可用！

### 📱 手机用户（iOS / Android）

1. **下载项目**
   - 在手机浏览器下载 ZIP
   - 解压文件

2. **开始使用**
   - 找到 `home.html`
   - 用浏览器打开
   - 完全离线可用！

3. **添加到主屏幕**（推荐）
   - iOS：分享 → 添加到主屏幕
   - Android：菜单 → 添加到主屏幕
   - 像 App 一样使用

---

## 🛠️ 包含工具

### 1. 🎭 角色卡编辑器
- 创建和编辑 SillyTavern 角色卡
- 支持所有标准字段
- 包含世界书和正则脚本
- 默认集成 MVU Beta 脚本

### 2. 📚 世界书编辑器
- 独立的世界书管理工具
- 支持 9 种插入位置
- 完整的 SillyTavern 字段支持
- JSON 导入/导出

### 3. 🔧 正则脚本编辑器
- 管理文本替换规则
- 实时测试功能
- 支持所有 SillyTavern 选项
- JSON 导入/导出

### 4. 🔍 调试工具
- PNG 测试工具 - 分析角色卡内容
- 格式对比工具 - 对比两个角色卡

---

## 📖 使用指南

### 基础设置

1. **填写角色信息**
   - 角色名称（必填）
   - 角色描述、性格、场景
   - 第一条消息
   - 对话示例
   - 上传头像图片

2. **编辑世界书**
   - 点击"�  编辑世界书"按钮
   - 添加条目，设置触发关键词
   - 支持正则表达式匹配
   - 填写条目内容

3. **正则脚本管理**
   - 点击"🔧 正则脚本"按钮
   - 添加文本查找和替换规则
   - 支持复杂的正则表达式

4. **高级设置**
   - 点击"⚙️ 高级设置"按钮
   - 创建者信息和版本号
   - 标签分类
   - 系统提示词
   - 备用开场白

5. **导出和导入**
   - 点击"导出 PNG"生成角色卡文件
   - 点击"导出 JSON"生成 JSON 文件
   - 点击"导入"加载现有角色卡
   - 浏览器自动保存草稿

---

## 🎯 角色卡格式

### Character Card V2 规范

导出的角色卡符合 SillyTavern V2 规范，包含：

**基础字段：**
- `name` - 角色名称
- `description` - 角色描述
- `personality` - 性格特点
- `scenario` - 场景设定
- `first_mes` - 第一条消息
- `mes_example` - 对话示例

**高级字段：**
- `creator` - 创建者名称
- `character_version` - 角色版本号
- `tags` - 标签数组
- `creator_notes` - 创建者备注
- `system_prompt` - 系统提示词
- `post_history_instructions` - 历史后指令
- `alternate_greetings` - 备用开场白
- `character_book` - 世界书
- `extensions` - 扩展字段

### 兼容性

- ✅ 可以导入 V1 格式的角色卡
- ✅ 自动转换为 V2 格式
- ✅ 支持 V3 格式导入
- ✅ 保留所有原始数据

### 数据存储

角色数据以 JSON 格式嵌入到 PNG 图片的 tEXt chunk 中，关键字为 "chara"，这是 SillyTavern 的标准格式。

---

## 🌐 浏览器兼容性

### 桌面端
- ✅ Chrome / Edge 90+
- ✅ Firefox 88+
- ✅ Safari 14+

### 移动端
- ✅ iOS Safari 14+
- ✅ Android Chrome 90+
- ✅ 支持触摸操作
- ✅ 响应式设计

---

## 📱 移动端使用

**手机上使用本工具：**

1. 在手机浏览器中打开 `home.html`
2. 界面会自动适配手机屏幕
3. 所有功能都可以正常使用
4. 支持触摸操作和手势
5. 可以从相册选择头像图片
6. 导出的文件会保存到手机

**建议：**
- 使用横屏模式获得更好的编辑体验
- 在 Safari 或 Chrome 中添加到主屏幕
- 定期导出备份，避免数据丢失

---

## 🔒 SillyTavern 兼容性

- ✅ SillyTavern 1.10.0+
- ✅ SillyTavern 1.11.x
- ✅ SillyTavern 1.12.x 及更高版本
- ✅ 完全兼容官方规范

---

## 📜 许可证

本项目采用 **Cooperative Non-Commercial License (Co-op NCL) v1.0**

### ✅ 允许的使用

**合作社组织**可以：
- 用于任何目的，包括商业用途
- 修改和分发软件

**个人用户**可以：
- 个人非商业使用
- 修改供个人使用
- 与他人分享

**非营利组织和教育机构**可以：
- 用于组织目的
- 修改和分发
- 用于教育

### ❌ 禁止的使用

**商业公司**（非合作社）不得：
- 商业使用本软件
- 销售或授权本软件
- 将本软件作为付费服务的一部分

### 📋 要求

- 保留版权声明
- 包含本许可证副本
- 标明所做的修改

完整许可协议请查看 [LICENSE](LICENSE) 文件。

---

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

在提交 PR 之前，请确保：
- 代码风格一致
- 测试所有功能正常
- 更新相关文档

---

## 📮 联系方式

- 提交 Issue：GitHub Issues
- 讨论：GitHub Discussions

---

## 🙏 致谢

- [SillyTavern](https://github.com/SillyTavern/SillyTavern) - 灵感来源
- 所有贡献者和用户

---

## ⭐ 如果喜欢

如果这个项目对你有帮助：
- ⭐ 给项目一个 Star
- 🔄 分享给朋友
- 💬 提供反馈
- 🤝 参与贡献

---

**版权所有 © 2024 保留所有权利**
