<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€£çµæ¸¬è©¦é é¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        h1 {
            color: #4CAF50;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #222;
            border-radius: 8px;
            border: 1px solid #333;
        }
        a {
            display: block;
            margin: 10px 0;
            padding: 15px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s;
        }
        a:hover {
            background: #444;
            transform: translateX(5px);
        }
        .info {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-size: 14px;
            color: #aaa;
        }
        .success {
            color: #4CAF50;
        }
        .error {
            color: #f44336;
        }
    </style>
</head>
<body>
    <h1>ğŸ” Zeabur éƒ¨ç½²æ¸¬è©¦é é¢</h1>
    
    <div class="test-section">
        <h2>ç’°å¢ƒä¿¡æ¯</h2>
        <div class="info">
            <strong>ç•¶å‰ URL:</strong> <span id="currentUrl"></span><br>
            <strong>User Agent:</strong> <span id="userAgent"></span><br>
            <strong>æ™‚é–“:</strong> <span id="currentTime"></span>
        </div>
    </div>

    <div class="test-section">
        <h2>æ–‡ä»¶é€£çµæ¸¬è©¦</h2>
        <p>é»æ“Šä¸‹é¢çš„é€£çµæ¸¬è©¦æ˜¯å¦èƒ½æ­£å¸¸è¨ªå•å„å€‹é é¢ï¼š</p>
        
        <a href="index.html">ğŸ  é¦–é  (index.html)</a>
        <a href="character-editor.html">ğŸ­ è§’è‰²å¡ç·¨è¼¯å™¨ (character-editor.html)</a>
        <a href="lorebook.html">ğŸ“š ä¸–ç•Œæ›¸ç·¨è¼¯å™¨ (lorebook.html)</a>
        <a href="regex.html">ğŸ”§ æ­£å‰‡è…³æœ¬ç·¨è¼¯å™¨ (regex.html)</a>
        <a href="test-png.html">ğŸ” PNG æ¸¬è©¦å·¥å…· (test-png.html)</a>
        <a href="compare-format.html">âš–ï¸ æ ¼å¼å°æ¯”å·¥å…· (compare-format.html)</a>
    </div>

    <div class="test-section">
        <h2>è³‡æºæª¢æŸ¥</h2>
        <div id="resourceCheck"></div>
    </div>

    <div class="test-section">
        <h2>JavaScript æ¸¬è©¦</h2>
        <div id="jsTest"></div>
    </div>

    <script>
        // é¡¯ç¤ºç’°å¢ƒä¿¡æ¯
        document.getElementById('currentUrl').textContent = window.location.href;
        document.getElementById('userAgent').textContent = navigator.userAgent;
        document.getElementById('currentTime').textContent = new Date().toLocaleString('zh-CN');

        // æª¢æŸ¥è³‡æº
        const resourceCheck = document.getElementById('resourceCheck');
        const resources = [
            { name: 'style.css', url: 'style.css' },
            { name: 'script.js', url: 'script.js' },
            { name: 'lorebook.js', url: 'lorebook.js' },
            { name: 'regex.js', url: 'regex.js' }
        ];

        let checkHtml = '<p>æ­£åœ¨æª¢æŸ¥è³‡æºæ–‡ä»¶...</p>';
        resourceCheck.innerHTML = checkHtml;

        Promise.all(resources.map(resource => 
            fetch(resource.url)
                .then(response => ({
                    name: resource.name,
                    status: response.status,
                    ok: response.ok
                }))
                .catch(error => ({
                    name: resource.name,
                    status: 'ERROR',
                    ok: false,
                    error: error.message
                }))
        )).then(results => {
            checkHtml = '<ul style="list-style: none; padding: 0;">';
            results.forEach(result => {
                const icon = result.ok ? 'âœ“' : 'âœ—';
                const className = result.ok ? 'success' : 'error';
                checkHtml += `<li class="${className}">${icon} ${result.name}: ${result.status}</li>`;
            });
            checkHtml += '</ul>';
            resourceCheck.innerHTML = checkHtml;
        });

        // JavaScript æ¸¬è©¦
        const jsTest = document.getElementById('jsTest');
        try {
            // æ¸¬è©¦ localStorage
            localStorage.setItem('test', 'ok');
            const localStorageWorks = localStorage.getItem('test') === 'ok';
            localStorage.removeItem('test');

            // æ¸¬è©¦ console
            const consoleWorks = typeof console !== 'undefined' && typeof console.log === 'function';

            jsTest.innerHTML = `
                <ul style="list-style: none; padding: 0;">
                    <li class="${localStorageWorks ? 'success' : 'error'}">
                        ${localStorageWorks ? 'âœ“' : 'âœ—'} localStorage å¯ç”¨
                    </li>
                    <li class="${consoleWorks ? 'success' : 'error'}">
                        ${consoleWorks ? 'âœ“' : 'âœ—'} console å¯ç”¨
                    </li>
                    <li class="success">âœ“ JavaScript æ­£å¸¸é‹è¡Œ</li>
                </ul>
            `;
        } catch (error) {
            jsTest.innerHTML = `<p class="error">âœ— JavaScript éŒ¯èª¤: ${error.message}</p>`;
        }

        // è¨˜éŒ„åˆ°æ§åˆ¶å°
        console.log('=== Zeabur éƒ¨ç½²æ¸¬è©¦ ===');
        console.log('URL:', window.location.href);
        console.log('æ™‚é–“:', new Date().toISOString());
        console.log('User Agent:', navigator.userAgent);
    </script>
</body>
</html>
